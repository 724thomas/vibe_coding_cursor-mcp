name: Issue Auto Comment

on:
  issues:
    types: [opened]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
    - name: Issue Auto Comment
      uses: actions/github-script@v6
      with:
        script: |
          const { data: issue } = await github.rest.issues.get({
            owner: context.repo.owner,
            repo: context.repo.repo,
            issue_number: context.issue.number,
          });

          const title = issue.title.toLowerCase();
          let welcomeMessage = '';

          // ì´ìŠˆ íƒ€ì…ì— ë”°ë¥¸ ë§ì¶¤ ë©”ì‹œì§€
          if (title.includes('bug') || title.includes('error') || title.includes('ë¬¸ì œ')) {
            welcomeMessage = `
## ğŸ› ë²„ê·¸ ë¦¬í¬íŠ¸ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!

ì•ˆë…•í•˜ì„¸ìš” @${issue.user.login}ë‹˜, ë²„ê·¸ ë¦¬í¬íŠ¸ë¥¼ ì œì¶œí•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

### ë‹¤ìŒ ë‹¨ê³„
1. ê°œë°œíŒ€ì´ ì´ìŠˆë¥¼ ê²€í† í•˜ê² ìŠµë‹ˆë‹¤
2. ì¬í˜„ ê°€ëŠ¥í•œì§€ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤  
3. ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤

### ì¶”ê°€ ì •ë³´ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ìš´ì˜ì²´ì œ ë° ë¸Œë¼ìš°ì € ì •ë³´
- ì—ëŸ¬ ë¡œê·¸ ë˜ëŠ” ìŠ¤í¬ë¦°ìƒ·
- ì¬í˜„ ë‹¨ê³„ì˜ ìƒì„¸ ì„¤ëª…

ë¹ ë¥¸ í•´ê²°ì„ ìœ„í•´ í˜‘ì¡°í•´ì£¼ì„¸ìš”! ğŸ™
            `;
          } else if (title.includes('feature') || title.includes('ê¸°ëŠ¥') || title.includes('ìš”ì²­')) {
            welcomeMessage = `
## ğŸ’¡ ê¸°ëŠ¥ ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!

ì•ˆë…•í•˜ì„¸ìš” @${issue.user.login}ë‹˜, ì†Œì¤‘í•œ ì•„ì´ë””ì–´ë¥¼ ê³µìœ í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

### ê²€í†  ê³¼ì •
1. ì œí’ˆ íŒ€ì—ì„œ ìš”ì²­ì‚¬í•­ì„ ê²€í† í•˜ê² ìŠµë‹ˆë‹¤
2. ê¸°ìˆ ì  íƒ€ë‹¹ì„±ì„ í‰ê°€í•˜ê² ìŠµë‹ˆë‹¤
3. ê°œë°œ ìš°ì„ ìˆœìœ„ì— ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤

### ë„ì›€ì´ ë˜ëŠ” ì¶”ê°€ ì •ë³´
- ì‚¬ìš© ì‚¬ë¡€ ë° ì‹œë‚˜ë¦¬ì˜¤
- ì˜ˆìƒë˜ëŠ” ì‚¬ìš©ì ìˆ˜
- ëŒ€ì•ˆì´ë‚˜ í•´ê²°ë°©ë²•

ê²€í†  í›„ ì—…ë°ì´íŠ¸ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! âœ¨
            `;
          } else if (title.includes('question') || title.includes('ì§ˆë¬¸') || title.includes('ë„ì›€')) {
            welcomeMessage = `
## â“ ì§ˆë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!

ì•ˆë…•í•˜ì„¸ìš” @${issue.user.login}ë‹˜, ì§ˆë¬¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

### ë¹ ë¥¸ ë‹µë³€ì„ ìœ„í•œ íŒ
- ê´€ë ¨ ì½”ë“œë‚˜ ì„¤ì •ì„ ê³µìœ í•´ì£¼ì„¸ìš”
- ì‹œë„í•´ë³¸ ë°©ë²•ë“¤ì„ ì•Œë ¤ì£¼ì„¸ìš”
- ì—ëŸ¬ ë©”ì‹œì§€ê°€ ìˆë‹¤ë©´ ì²¨ë¶€í•´ì£¼ì„¸ìš”

ì»¤ë®¤ë‹ˆí‹°ë‚˜ ê°œë°œíŒ€ì—ì„œ ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ¤
            `;
          } else {
            welcomeMessage = `
## ğŸ“‹ ìƒˆë¡œìš´ ì´ìŠˆê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!

ì•ˆë…•í•˜ì„¸ìš” @${issue.user.login}ë‹˜, ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

### ì²˜ë¦¬ ê³¼ì •
1. ë‹´ë‹¹ìê°€ ì´ìŠˆë¥¼ ê²€í† í•©ë‹ˆë‹¤
2. ì ì ˆí•œ ë¼ë²¨ê³¼ ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
3. í•„ìš”ì‹œ ì¶”ê°€ ì •ë³´ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

ë¹ ë¥¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ í˜‘ì¡°í•´ì£¼ì„¸ìš”! ğŸš€
            `;
          }

          const footer = `
---
*ì´ ëŒ“ê¸€ì€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì¶”ê°€ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”.*
          `;

          await github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: welcomeMessage + footer
          }); 